generator client {
  provider = "prisma-client-js"
  output   = "../generated/prisma"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model users {
  user_id    Int      @id @default(autoincrement())
  email      String   @unique
  f_name     String
  l_name     String
  password   String
  created_at DateTime @default(now())

  hashedRt String?

  card_studied Int @default(0)
  correct      Int @default(0)

  Set set[]
}

model set {
  set_id  Int @id @default(autoincrement())
  user_id Int

  name        String
  description String?
  color       String  @default("#552583")

  last_access   DateTime @default(now())
  num_cards     Int      @default(0)
  cards_learned Int      @default(0)

  users     users       @relation(fields: [user_id], references: [user_id], onDelete: Cascade)
  flashcard flashcard[]
}

model flashcard {
  card_id            Int     @id @default(autoincrement())
  set_id             Int
  term               String
  definition         String
  content_definition String?
  audio_definition   String?
  content_term       String?
  audio_term         String?
  set                set     @relation(fields: [set_id], references: [set_id], onDelete: Cascade)
}
